---
import {getCollection, render} from "astro:content";
import Post_layout from "../../layouts/post_layout.astro";

export async function getStaticPaths() {
  const posts = await getCollection("posts");

  const paths = posts.map(post => ({
    params: { slug: post.id },
    props: { post },
  }));

  console.log("Generated static paths:", paths);

  return paths;
}
const { post } = Astro.props

if (!post || typeof post === undefined) {
  throw new Error('Could not find blog post 1');
}
const data = render(post.body)
console.log(data)
console.log(post)
---
<Post_layout post={post}>
  {data}
</Post_layout>